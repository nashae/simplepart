{% extends 'base.html.twig' %}

{% block title %}Gestion des utilisateurs{% endblock %}

{% block body %}
<div class="container-fluid">
		<h1 align="center" class="my-5">Gestion des utilisateurs</h1>
		<table class="table table-hover">
			<thead>
				<tr align="center">
					<th>email</th>
					<th>username</th>
					<th>roles</th>
					<th>articles</th>
					<th>articles de blog</th>
					<th>commentaires</th>
                    <th>Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for user in paginator.dataByUser %}
					<tr align="center">
						<td>{{user.email}}</td>
						<td>{{user.userName}}</td>
						<td>{% for role in user.roles %}
                            {{role}}
                        {% endfor %}</td>
						<td>{{user.articles | length}}</td>
                        <td>{{user.blogArticles | length}}</td>
						<td>{{user.comments | length}}</td>
						
                        <td>
                            <a href="{{path('admin_user_edit',{'id': user.id}) }}" class="btn btn-primary"><i class="fas fa-edit"></i></a>
                            <a href="{{path('admin_user_delete',{'id': user.id}) }}" class="btn btn-danger"><i class="fas fa-trash"></i></a>
                        </td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		  {% include "partials/paginator.html.twig" with {'route': 'admin_users'} %}

	</div>
{% endblock %}
